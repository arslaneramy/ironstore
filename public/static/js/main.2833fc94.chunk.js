(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{38:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(32),c=n.n(s),i=n(3),o=n(2),l=n(4),u=n(6),d=n(5),h=(n(38),n(0)),j=function(e){var t=e.product;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"imgContainer",children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)(i.b,{to:"/product/".concat(t._id),children:Object(h.jsx)("img",{className:"imgProduct",src:t.img})}),Object(h.jsx)("h3",{children:t.description}),Object(h.jsxs)("h3",{children:[t.price," $"]})]})})},p=n(7),b=n(14),m=n.n(b),O=new function e(){var t=this;Object(o.a)(this,e),this.getOne=function(e){return t.apiProducts.get("/".concat(e))},this.getAll=function(){return t.apiProducts.get("/")},this.getList=function(){return t.apiProducts.get("/list")},this.apiProducts=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/api/products",withCredentials:!0})},g=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.loadProducts=function(){O.getAll().then((function(t){var n=t.data.splice(0,2);e.setState({products:n})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var e=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"homeContainer",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsxs)("h2",{children:["Hi! Welcome to Iron Store, here you can buy our merchandise from ironHack"," "]}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150",alt:"shippingImg"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150",alt:"creditcardImg"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),e.map((function(e){return Object(h.jsx)(j,{product:e},e._id)}))]})}}]),n}(r.a.Component),x=n(9),f=n.n(x),v=n(15),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={product:{}},e.bringProduct=Object(v.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match,t.next=3,O.getOne(n.params.id);case 3:a=t.sent,r=a.data,e.setState({product:r});case 6:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.bringProduct()}},{key:"render",value:function(){var e=this.state.product;return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"imgProductScreen",src:e.img,alt:e.name}),Object(h.jsx)("br",{}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("button",{children:"Go Back"})}),Object(h.jsx)(i.b,{to:"/users/cart",children:Object(h.jsx)("button",{children:"Add to cart"})})]})}}]),n}(r.a.Component),w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.loadProducts=function(){O.getAll().then((function(t){var n=t.data;e.setState({products:n})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var e=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsx)("h2",{children:"Hi ! This is the product list "}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),e.map((function(e){return Object(h.jsx)(j,{product:e},e._id)}))]})}}]),n}(r.a.Component),N=n(16),C=n(18),k=new(function(){function e(){Object(o.a)(this,e),this.auth=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/auth",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e,t,n,a,r){return this.auth.post("/signup",{email:e,password:t,firstName:n,lastName:a,shippingAddress:r}).then((function(e){return e.data}))}},{key:"login",value:function(e,t){return this.auth.post("/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/logout").then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/me").then((function(e){return e.data}))}}]),e}()),A=r.a.createContext(),L=A.Consumer,S=A.Provider,P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1,isLoading:!0,user:null},e.me=function(){k.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))},e.signup=function(t,n,a,r,s){k.signup(t,n,a,r,s).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t,n){k.login(t,n).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){k.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.me()}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user,r=this.signup,s=this.login,c=this.logout,i=this.me;return n?Object(h.jsx)("p",{children:"Loading"}):Object(h.jsx)(S,{value:{isLoggedIn:t,isLoading:n,user:a,signup:r,login:s,logout:c,me:i},children:this.props.children})}}]),n}(r.a.Component),E=function(e){return function(t){return Object(h.jsx)(L,{children:function(n){var a=n.isLoggedIn,r=n.isLoading,s=n.user,c=n.signup,i=n.login,o=n.logout,l=n.me;return Object(h.jsx)(e,Object(C.a)({isLoggedIn:a,isLoading:r,user:s,signup:c,login:i,logout:o,me:l},t))}})}},I=E(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password,s=n.firstName,c=n.lastName,i=n.shippingAddress;e.props.signup(a,r,s,c,i)},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(N.a)({},a,r))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.firstName,r=e.lastName,s=e.shippingAddress;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"signup",children:"Sign Up"}),Object(h.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("label",{children:"E-mail:"}),Object(h.jsx)("input",{type:"text",name:"email",placeholder:"Enter E-mail",value:t,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Enter Password",value:n,onChange:this.handleChange}),Object(h.jsx)("label",{children:"First Name:"}),Object(h.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter name",value:a,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Last Name:"}),Object(h.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter Last Name",value:r,onChange:this.handleChange}),Object(h.jsx)("label",{children:"shipping Address:"}),Object(h.jsx)("input",{type:"text",name:"shippingAddress",placeholder:"Enter Address",value:s,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Signup"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:" Already have account? "}),Object(h.jsx)(i.b,{to:"/login",children:" Login "})]})]})]})}}]),n}(a.Component)),D=E(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password;e.props.login(a,r)},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(N.a)({},a,r))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(h.jsx)("label",{children:"email:"}),Object(h.jsx)("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Login"})]})]})}}]),n}(a.Component)),U=new function e(){var t=this;Object(o.a)(this,e),this.getOneUser=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.profile.get("/api/users/edit");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.editProfile=function(){var e=Object(v.a)(f.a.mark((function e(n,a,r,s,c){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.profile.put("/api/users",{firstName:r,lastName:s,email:n,password:a,shippingAddress:c});case 3:return i=e.sent,e.abrupt("return",i.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),this.editProfileP=function(e,n,a,r,s){return t.profile.put("/api/users",{firstName:a,lastName:r,email:e,password:n,shippingAddress:s}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.profile=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com",withCredentials:!0})},F=E(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,a=n.email,r=n.password,s=n.firstName,c=n.lastName,i=n.shippingAddress;U.editProfile(a,r,s,c,i).then((function(t){return e.props.loadUser()})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(N.a)({},a,r))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,method:"POST",encType:"multipart/form-data",children:[Object(h.jsx)("label",{children:" first name: "}),Object(h.jsx)("input",{placeholder:"Enter new Name",type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange}),Object(h.jsx)("label",{children:" last name: "}),Object(h.jsx)("input",{placeholder:"Enter new Las  Name",type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange}),Object(h.jsx)("label",{children:"email:"}),Object(h.jsx)("input",{placeholder:"Enter new E-mail",type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),Object(h.jsx)("label",{children:"password:"}),Object(h.jsx)("input",{placeholder:"Enter new password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(h.jsx)("label",{children:" shipping Address: "}),Object(h.jsx)("input",{placeholder:"Enter new Address",type:"text",name:"shippingAddress",value:this.state.shippingAddress,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})})}}]),n}(a.Component)),M=E(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showEdit:!1,email:"",password:"",firstName:"",lastName:"",shippingAddress:""},e.loadUser=function(){U.getOneUser().then((function(t){var n=t.firstName,a=t.lastName,r=t.email,s=t.password,c=t.shippingAddress;e.setState({firstName:n,lastName:a,email:r,password:s,shippingAddress:c,showEdit:!1}),e.props.me()})).catch((function(e){return console.log(e)}))},e.toggleEdit=function(){e.setState({showEdit:!e.state.showEdit})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"render",value:function(){return console.log(this.props.user),Object(h.jsxs)("div",{className:"user-details",children:[Object(h.jsxs)("h2",{children:["Welcome ",this.state.firstName]}),Object(h.jsxs)("div",{className:"profileContainer",children:[Object(h.jsx)("p",{children:" Data Account: "}),Object(h.jsxs)("p",{children:["Name: ",this.state.firstName]}),Object(h.jsxs)("p",{children:["Email: ",this.state.email]}),Object(h.jsxs)("p",{children:["Address: ",this.state.shippingAddress]}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Do you want to edit your profile?"}),Object(h.jsx)("button",{onClick:this.toggleEdit,children:"Edit"}),this.state.showEdit?Object(h.jsx)(F,{loadUser:this.loadUser}):null]})]})}}]),n}(a.Component)),q=function(e){var t=e.product;e.qty;return console.log("product",t),Object(h.jsxs)("div",{className:"cartItem",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)("figure",{children:Object(h.jsx)("img",{src:t.img})})}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("b",{children:[t.name," ",Object(h.jsxs)("span",{className:"",children:["\u20ac",t.price]})]}),Object(h.jsx)("div",{children:t.description}),Object(h.jsxs)("small",{children:["Amount: ",t.qty]})]}),Object(h.jsx)("div",{})]})},T=new function e(){var t=this;Object(o.a)(this,e),this.getCart=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apiCart.get("/");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.updateCart=function(){var e=Object(v.a)(f.a.mark((function e(n,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apiCart.put("/",{productId:n,qty:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),this.deleteCart=function(){var e=Object(v.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apiCart.delete("/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.apiCart=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/api/users/cart",withCredentials:!0})},R=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cart:[]},e.addToCart=function(){T.getCart().then((function(t){var n=t;e.setState({cart:n})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.addToCart()}},{key:"render",value:function(){var e=this.state.cart;return console.log("this.state.cart",this.state.cart),Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h2",{children:" Your cart : "}),e.map((function(e){return Object(h.jsx)(q,{product:e.product,qty:e.qty},e.product._id)}))]})}}]),n}(r.a.Component),W=E(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(i.b,{to:"/",id:"home-btn",children:Object(h.jsx)("h4",{children:Object(h.jsx)("img",{src:"/img/ironlogo.png",className:"logo",alt:"logo"})})}),this.props.isLoggedIn?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["email: ",this.props.user&&this.props.user.email]}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("button",{className:"navbar-button",onClick:this.props.logout,children:"Logout"})}),Object(h.jsx)(i.b,{to:"/users/cart",children:Object(h.jsx)("button",{className:"navbar-button",children:"Cart"})}),Object(h.jsx)(i.b,{to:"/profile",children:Object(h.jsx)("button",{className:"navbar-button",children:"Profile"})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(i.b,{to:"/login",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Login"})," "]}),Object(h.jsx)("br",{}),Object(h.jsxs)(i.b,{to:"/signup",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Sign Up"})," "]})]})]})}}]),n}(a.Component));var _=E((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.component,r=e.exact,s=e.path;return n?"Loading":Object(h.jsx)(p.b,{exact:r,path:s,render:function(e){return t?Object(h.jsx)(p.a,{to:"/profile"}):t?void 0:Object(h.jsx)(a,Object(C.a)({},e))}})}));var H=E((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.component,r=e.exact,s=e.path;return n?"Loading":Object(h.jsx)(p.b,{exact:r,path:s,render:function(e){return t?t?Object(h.jsx)(a,Object(C.a)({},e)):void 0:Object(h.jsx)(p.a,{to:"/login"})}})})),z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(W,{}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.b,{exact:!0,path:"/",component:g}),Object(h.jsx)(p.b,{path:"/product/:id",component:y}),Object(h.jsx)(p.b,{path:"/products/list",component:w}),Object(h.jsx)(_,{exact:!0,path:"/signup",component:I}),Object(h.jsx)(_,{exact:!0,path:"/login",component:D}),Object(h.jsx)(H,{exact:!0,path:"/profile",component:M}),Object(h.jsx)(H,{path:"/users/cart",component:R})]})]})}}]),n}(a.Component);c.a.render(Object(h.jsx)(i.a,{children:Object(h.jsx)(P,{children:Object(h.jsx)(z,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.2833fc94.chunk.js.map