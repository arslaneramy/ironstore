(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{38:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),s=n(31),a=n.n(s),i=n(5),o=n(2),u=n(4),l=n(8),h=n(7),d=(n(38),n(0)),j=function(t){var e=t.product;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"imgContainer",children:[Object(d.jsx)("h3",{children:e.name}),Object(d.jsx)(i.b,{to:"/product/".concat(e._id),children:Object(d.jsx)("img",{className:"imgProduct",src:e.img})}),Object(d.jsx)("h3",{children:e.description}),Object(d.jsxs)("h3",{children:[e.price," $"]})]})})},b=n(3),p=n(14),g=n.n(p),O=new function t(){var e=this;Object(o.a)(this,t),this.getOne=function(t){return e.apiProducts.get("/".concat(t))},this.getAll=function(){return e.apiProducts.get("/")},this.getList=function(){return e.apiProducts.get("/list")},this.apiProducts=g.a.create({baseURL:"http://localhost:5000/api/products",withCredentials:!0})},m=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={products:[]},t.loadProducts=function(){O.getAll().then((function(e){var n=e.data.splice(0,2);t.setState({products:n})}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var t=this.state.products;return console.log("this.state.products",this.state.products),Object(d.jsxs)("div",{className:"homeContainer",children:[Object(d.jsxs)("div",{className:"description",children:[Object(d.jsxs)("h2",{children:["Hi! Welcome to Iron Store, here you can buy our merchandise from ironHack"," "]}),Object(d.jsxs)("div",{className:"rowArticle",children:[Object(d.jsxs)("article",{children:[Object(d.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(d.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(d.jsxs)("article",{children:[Object(d.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(d.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(d.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(d.jsx)("h4",{children:" find that and much more here! "}),Object(d.jsx)(i.b,{to:"/products/list",children:Object(d.jsx)("button",{children:" All Products "})})]}),Object(d.jsx)("h1",{children:"Most popular products"}),t.map((function(t){return Object(d.jsx)(j,{product:t},t._id)}))]})}}]),n}(r.a.Component),x=n(21),f=n.n(x),v=n(33),y=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={product:{}},t.bringProduct=Object(v.a)(f.a.mark((function e(){var n,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.match,e.next=3,O.getOne(n.params.id);case 3:c=e.sent,r=c.data,t.setState({product:r});case 6:case"end":return e.stop()}}),e)}))),t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.bringProduct()}},{key:"render",value:function(){var t=this.state.product;return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"imgProductScreen",src:t.img,alt:t.name}),Object(d.jsx)("br",{}),Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("button",{children:"Go Back"})}),Object(d.jsx)(i.b,{to:"/users/cart",children:Object(d.jsx)("button",{children:"Add to cart"})})]})}}]),n}(r.a.Component),w=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={products:[]},t.loadProducts=function(){O.getAll().then((function(e){var n=e.data;t.setState({products:n})}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var t=this.state.products;return console.log("this.state.products",this.state.products),Object(d.jsxs)("div",{className:"",children:[Object(d.jsxs)("div",{className:"description",children:[Object(d.jsx)("h2",{children:"Hi ! This is the product list "}),Object(d.jsxs)("div",{className:"rowArticle",children:[Object(d.jsxs)("article",{children:[Object(d.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(d.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(d.jsxs)("article",{children:[Object(d.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(d.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(d.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(d.jsx)("h4",{children:" find that and much more here! "}),Object(d.jsx)(i.b,{to:"/products/list",children:Object(d.jsx)("button",{children:" All Products "})})]}),Object(d.jsx)("h1",{children:"Most popular products"}),t.map((function(t){return Object(d.jsx)(j,{product:t},t._id)}))]})}}]),n}(r.a.Component),L=n(15),C=n(16),N=new(function(){function t(){Object(o.a)(this,t),this.auth=g.a.create({baseURL:"http://localhost:5000",withCredentials:!0})}return Object(u.a)(t,[{key:"signup",value:function(t,e,n,c,r){return this.auth.post("/auth/signup",{email:t,password:e,firstName:n,lastName:c,shippingAddress:r}).then((function(t){return t.data}))}},{key:"login",value:function(t,e){return this.auth.post("/auth/login",{email:t,password:e}).then((function(t){return t.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(t){return t.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(t){return t.data}))}}]),t}()),k=r.a.createContext(),S=k.Consumer,A=k.Provider,P=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={isLoggedIn:!1,isLoading:!0,user:null},t.signup=function(e,n,c,r,s){N.signup(e,n,c,r,s).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.login=function(e,n){N.login(e,n).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.logout=function(){N.logout().then((function(){return t.setState({isLoggedIn:!1,user:null})})).catch((function(t){return console.log(t)}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;N.me().then((function(e){return t.setState({isLoggedIn:!0,user:e,isLoading:!1})})).catch((function(e){return t.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.isLoggedIn,n=t.isLoading,c=t.user,r=this.signup,s=this.login,a=this.logout;return n?Object(d.jsx)("p",{children:"Loading"}):Object(d.jsx)(A,{value:{isLoggedIn:e,isLoading:n,user:c,signup:r,login:s,logout:a},children:this.props.children})}}]),n}(r.a.Component),I=function(t){return function(e){return Object(d.jsx)(S,{children:function(n){var c=n.isLoggedIn,r=n.isLoading,s=n.user,a=n.signup,i=n.login,o=n.logout;return Object(d.jsx)(t,Object(C.a)({isLoggedIn:c,isLoading:r,user:s,signup:a,login:i,logout:o},e))}})}},D=I(function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,c=n.email,r=n.password,s=n.firstName,a=n.lastName,i=n.shippingAddress;t.props.signup(c,r,s,a,i)},t.handleChange=function(e){var n=e.target,c=n.name,r=n.value;t.setState(Object(L.a)({},c,r))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password,c=t.firstName,r=t.lastName,s=t.shippingAddress;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"signup",children:"Sign Up"}),Object(d.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)("label",{children:"E-mail:"}),Object(d.jsx)("input",{type:"text",name:"email",placeholder:"Enter E-mail",value:e,onChange:this.handleChange}),Object(d.jsx)("label",{children:"Password:"}),Object(d.jsx)("input",{type:"password",name:"password",placeholder:"Enter Password",value:n,onChange:this.handleChange}),Object(d.jsx)("label",{children:"First Name:"}),Object(d.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter name",value:c,onChange:this.handleChange}),Object(d.jsx)("label",{children:"Last Name:"}),Object(d.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter Last Name",value:r,onChange:this.handleChange}),Object(d.jsx)("label",{children:"shipping Address:"}),Object(d.jsx)("input",{type:"text",name:"shippingAddress",placeholder:"Enter Address",value:s,onChange:this.handleChange}),Object(d.jsx)("input",{type:"submit",value:"Signup"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" Already have account? "}),Object(d.jsx)(i.b,{to:"/login",children:" Login "})]})]})]})}}]),n}(c.Component)),E=I(function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={email:"",password:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,c=n.email,r=n.password;t.props.login(c,r)},t.handleChange=function(e){var n=e.target,c=n.name,r=n.value;t.setState(Object(L.a)({},c,r))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(d.jsx)("label",{children:"email:"}),Object(d.jsx)("input",{type:"text",name:"email",value:e,onChange:this.handleChange}),Object(d.jsx)("label",{children:"Password:"}),Object(d.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(d.jsx)("input",{type:"submit",value:"Login"})]})]})}}]),n}(c.Component)),F=I(function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Profile Page"}),Object(d.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.firstName]})]})}}]),n}(c.Component)),M=I(function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)(i.b,{to:"/",id:"home-btn",children:Object(d.jsxs)("h4",{children:[Object(d.jsx)("img",{src:"/img/ironlogo.png",className:"logo"}),"Home"]})}),this.props.isLoggedIn?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{children:["email: ",this.props.user&&this.props.user.email]}),Object(d.jsx)("button",{onClick:this.props.logout,children:"Logout"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(i.b,{to:"/login",children:[Object(d.jsx)("button",{className:"navbar-button",children:"Login"})," "]}),Object(d.jsx)("br",{}),Object(d.jsxs)(i.b,{to:"/signup",children:[Object(d.jsx)("button",{className:"navbar-button",children:"Sign Up"})," "]})]})]})}}]),n}(c.Component));var H=I((function(t){var e=t.isLoggedIn,n=t.isLoading,c=t.component,r=t.exact,s=t.path;return n?"Loading":Object(d.jsx)(b.b,{exact:r,path:s,render:function(t){return e?Object(d.jsx)(b.a,{to:"/profile"}):e?void 0:Object(d.jsx)(c,Object(C.a)({},t))}})}));var U=I((function(t){var e=t.isLoggedIn,n=t.isLoading,c=t.component,r=t.exact,s=t.path;return n?"Loading":Object(d.jsx)(b.b,{exact:r,path:s,render:function(t){return e?e?Object(d.jsx)(c,Object(C.a)({},t)):void 0:Object(d.jsx)(b.a,{to:"/login"})}})})),W=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(M,{}),Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{exact:!0,path:"/",component:m}),Object(d.jsx)(b.b,{path:"/product/:id",component:y}),Object(d.jsx)(b.b,{path:"/products/list",component:w}),Object(d.jsx)(H,{exact:!0,path:"/signup",component:D}),Object(d.jsx)(H,{exact:!0,path:"/login",component:E}),Object(d.jsx)(U,{exact:!0,path:"/profile",component:F})]})]})}}]),n}(c.Component);a.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(P,{children:Object(d.jsx)(W,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.9bc532f6.chunk.js.map