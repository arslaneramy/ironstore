(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{38:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),s=n(32),c=n.n(s),i=n(4),o=n(2),l=n(3),u=n(6),d=n(5),h=(n(38),n(0)),j=function(t){var e=t.product;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"imgContainer",children:[Object(h.jsx)("h3",{children:e.name}),Object(h.jsx)(i.b,{to:"/product/".concat(e._id),children:Object(h.jsx)("img",{className:"imgProduct",src:e.img})}),Object(h.jsx)("h3",{children:e.description}),Object(h.jsxs)("h3",{children:[e.price," $"]})]})})},p=n(7),b=n(14),m=n.n(b),O=new function t(){var e=this;Object(o.a)(this,t),this.getOne=function(t){return e.apiProducts.get("/".concat(t))},this.getAll=function(){return e.apiProducts.get("/")},this.getList=function(){return e.apiProducts.get("/list")},this.apiProducts=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/api/products",withCredentials:!0})},g=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={products:[]},t.loadProducts=function(){O.getAll().then((function(e){var n=e.data.splice(0,4);t.setState({products:n})}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var t=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"homeContainer",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsxs)("h2",{children:["Hi! Welcome to Iron Store, here you can buy our merchandise from ironHack"," "]}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150",alt:"shippingImg"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150",alt:"creditcardImg"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),t.map((function(t){return Object(h.jsx)(j,{product:t},t._id)}))]})}}]),n}(a.a.Component),f=n(9),x=n.n(f),v=n(15),y=new function t(){var e=this;Object(o.a)(this,t),this.getCart=Object(v.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.apiCart.get("/");case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),this.updateCart=function(){var t=Object(v.a)(x.a.mark((function t(n,r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.apiCart.put("/",{productId:n,qty:r});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),this.removeItem=function(){var t=Object(v.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.apiCart.delete("/".concat(n));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.apiCart=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/api/users/cart",withCredentials:!0})},w=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={product:{}},t.bringProduct=Object(v.a)(x.a.mark((function e(){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.match,e.next=3,O.getOne(n.params.id);case 3:r=e.sent,a=r.data,t.setState({product:a});case 6:case"end":return e.stop()}}),e)}))),t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.bringProduct()}},{key:"addProduct",value:function(){y.updateCart(this.state.product._id,1)}},{key:"render",value:function(){var t=this,e=this.state.product;return console.log("PRODUCT!",e),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"imgProductScreen",src:e.img,alt:e.name}),Object(h.jsx)("br",{}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("button",{children:"Go Back"})}),Object(h.jsx)("button",{onClick:function(){return t.addProduct()},children:"Add to cart"})]})}}]),n}(a.a.Component),N=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={products:[]},t.loadProducts=function(){O.getAll().then((function(e){var n=e.data;t.setState({products:n})}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var t=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsx)("h2",{children:"Hi ! This is the product list "}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),t.map((function(t){return Object(h.jsx)(j,{product:t},t._id)}))]})}}]),n}(a.a.Component),C=n(16),k=n(18),A=new(function(){function t(){Object(o.a)(this,t),this.auth=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com/auth",withCredentials:!0})}return Object(l.a)(t,[{key:"signup",value:function(t,e,n,r,a){return this.auth.post("/signup",{email:t,password:e,firstName:n,lastName:r,shippingAddress:a}).then((function(t){return t.data}))}},{key:"login",value:function(t,e){return this.auth.post("/login",{email:t,password:e}).then((function(t){return t.data}))}},{key:"logout",value:function(){return this.auth.get("/logout").then((function(t){return t.data}))}},{key:"me",value:function(){return this.auth.get("/me").then((function(t){return t.data}))}}]),t}()),L=a.a.createContext(),S=L.Consumer,P=L.Provider,E=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={isLoggedIn:!1,isLoading:!0,user:null},t.me=function(){A.me().then((function(e){return t.setState({isLoggedIn:!0,user:e,isLoading:!1})})).catch((function(e){return t.setState({isLoggedIn:!1,user:null,isLoading:!1})}))},t.signup=function(e,n,r,a,s){A.signup(e,n,r,a,s).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.login=function(e,n){A.login(e,n).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.logout=function(){A.logout().then((function(){return t.setState({isLoggedIn:!1,user:null})})).catch((function(t){return console.log(t)}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.me()}},{key:"render",value:function(){var t=this.state,e=t.isLoggedIn,n=t.isLoading,r=t.user,a=this.signup,s=this.login,c=this.logout,i=this.me;return n?Object(h.jsx)("p",{children:"Loading"}):Object(h.jsx)(P,{value:{isLoggedIn:e,isLoading:n,user:r,signup:a,login:s,logout:c,me:i},children:this.props.children})}}]),n}(a.a.Component),I=function(t){return function(e){return Object(h.jsx)(S,{children:function(n){var r=n.isLoggedIn,a=n.isLoading,s=n.user,c=n.signup,i=n.login,o=n.logout,l=n.me;return Object(h.jsx)(t,Object(k.a)({isLoggedIn:r,isLoading:a,user:s,signup:c,login:i,logout:o,me:l},e))}})}},D=I(function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,r=n.email,a=n.password,s=n.firstName,c=n.lastName,i=n.shippingAddress;t.props.signup(r,a,s,c,i)},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(C.a)({},r,a))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password,r=t.firstName,a=t.lastName,s=t.shippingAddress;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"signup",children:"Sign Up"}),Object(h.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("label",{children:"E-mail:"}),Object(h.jsx)("input",{type:"text",name:"email",placeholder:"Enter E-mail",value:e,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Enter Password",value:n,onChange:this.handleChange}),Object(h.jsx)("label",{children:"First Name:"}),Object(h.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter name",value:r,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Last Name:"}),Object(h.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter Last Name",value:a,onChange:this.handleChange}),Object(h.jsx)("label",{children:"shipping Address:"}),Object(h.jsx)("input",{type:"text",name:"shippingAddress",placeholder:"Enter Address",value:s,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Signup"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:" Already have account? "}),Object(h.jsx)(i.b,{to:"/login",children:" Login "})]})]})]})}}]),n}(r.Component)),U=I(function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={email:"",password:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,r=n.email,a=n.password;t.props.login(r,a)},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(C.a)({},r,a))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(h.jsx)("label",{children:"email:"}),Object(h.jsx)("input",{type:"text",name:"email",value:e,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Login"})]})]})}}]),n}(r.Component)),F=new function t(){var e=this;Object(o.a)(this,t),this.getOneUser=Object(v.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.profile.get("/api/users/edit");case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),this.editProfile=function(){var t=Object(v.a)(x.a.mark((function t(n,r,a,s,c){var i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.profile.put("/api/users",{firstName:a,lastName:s,email:n,password:r,shippingAddress:c});case 3:return i=t.sent,t.abrupt("return",i.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r,a,s){return t.apply(this,arguments)}}(),this.editProfileP=function(t,n,r,a,s){return e.profile.put("/api/users",{firstName:r,lastName:a,email:t,password:n,shippingAddress:s}).then((function(t){return t.data})).catch((function(t){return console.log(t)}))},this.profile=m.a.create({baseURL:"https://ironstore-m3.herokuapp.com",withCredentials:!0})},M=I(function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,r=n.email,a=n.password,s=n.firstName,c=n.lastName,i=n.shippingAddress;F.editProfile(r,a,s,c,i).then((function(e){return t.props.loadUser()})).catch((function(t){return console.log(t)}))},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(C.a)({},r,a))},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,method:"POST",encType:"multipart/form-data",children:[Object(h.jsx)("label",{children:" first name: "}),Object(h.jsx)("input",{placeholder:"Enter new Name",type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange}),Object(h.jsx)("label",{children:" last name: "}),Object(h.jsx)("input",{placeholder:"Enter new Las  Name",type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange}),Object(h.jsx)("label",{children:"email:"}),Object(h.jsx)("input",{placeholder:"Enter new E-mail",type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),Object(h.jsx)("label",{children:"password:"}),Object(h.jsx)("input",{placeholder:"Enter new password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),Object(h.jsx)("label",{children:" shipping Address: "}),Object(h.jsx)("input",{placeholder:"Enter new Address",type:"text",name:"shippingAddress",value:this.state.shippingAddress,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})})}}]),n}(r.Component)),R=I(function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={showEdit:!1,email:"",password:"",firstName:"",lastName:"",shippingAddress:""},t.loadUser=function(){F.getOneUser().then((function(e){var n=e.firstName,r=e.lastName,a=e.email,s=e.password,c=e.shippingAddress;t.setState({firstName:n,lastName:r,email:a,password:s,shippingAddress:c,showEdit:!1}),t.props.me()})).catch((function(t){return console.log(t)}))},t.toggleEdit=function(){t.setState({showEdit:!t.state.showEdit})},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"render",value:function(){return console.log(this.props.user),Object(h.jsxs)("div",{className:"user-details",children:[Object(h.jsxs)("h2",{children:["Welcome ",this.state.firstName]}),Object(h.jsxs)("div",{className:"profileContainer",children:[Object(h.jsx)("p",{children:" Data Account: "}),Object(h.jsxs)("p",{children:["Name: ",this.state.firstName]}),Object(h.jsxs)("p",{children:["Email: ",this.state.email]}),Object(h.jsxs)("p",{children:["Address: ",this.state.shippingAddress]}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Do you want to edit your profile?"}),Object(h.jsx)("button",{onClick:this.toggleEdit,children:"Edit"}),this.state.showEdit?Object(h.jsx)(M,{loadUser:this.loadUser}):null]})]})}}]),n}(r.Component)),T=function(t){var e=t.product;t.qty;return console.log("product",e),Object(h.jsxs)("div",{className:"cartItem",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)("figure",{children:Object(h.jsx)("img",{src:e.img})})}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("b",{children:[e.name," ",Object(h.jsxs)("span",{className:"",children:["\u20ac",e.price]})]}),Object(h.jsx)("div",{children:e.description}),Object(h.jsxs)("small",{children:["Amount: ",e.qty]}),Object(h.jsx)("button",{onClick:function(){return y.removeItem(e._id)},children:" Remove item "})]}),Object(h.jsx)("div",{})]})},_=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={cart:[]},t.addToCart=function(){y.getCart().then((function(e){var n=e;t.setState({cart:n})}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.addToCart()}},{key:"render",value:function(){var t=this.state.cart;return console.log("this.state.cart",this.state.cart),Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h2",{children:" Your cart : "}),t.map((function(t){return Object(h.jsx)(T,{product:t.product,qty:t.qty},t.product._id)}))]})}}]),n}(a.a.Component),q=I(function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(i.b,{to:"/",id:"home-btn",children:Object(h.jsx)("h4",{children:Object(h.jsx)("img",{src:"/img/ironlogo.png",className:"logo",alt:"logo"})})}),this.props.isLoggedIn?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["Hello ",this.props.user&&this.props.user.firstName]}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("button",{className:"navbar-button",onClick:this.props.logout,children:"Logout"})}),Object(h.jsx)(i.b,{to:"/users/cart",children:Object(h.jsx)("button",{className:"navbar-button",children:"Cart"})}),Object(h.jsx)(i.b,{to:"/profile",children:Object(h.jsx)("button",{className:"navbar-button",children:"Profile"})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(i.b,{to:"/login",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Login"})," "]}),Object(h.jsx)("br",{}),Object(h.jsxs)(i.b,{to:"/signup",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Sign Up"})," "]})]})]})}}]),n}(r.Component));var H=I((function(t){var e=t.isLoggedIn,n=t.isLoading,r=t.component,a=t.exact,s=t.path;return n?"Loading":Object(h.jsx)(p.b,{exact:a,path:s,render:function(t){return e?Object(h.jsx)(p.a,{to:"/profile"}):e?void 0:Object(h.jsx)(r,Object(k.a)({},t))}})}));var W=I((function(t){var e=t.isLoggedIn,n=t.isLoading,r=t.component,a=t.exact,s=t.path;return n?"Loading":Object(h.jsx)(p.b,{exact:a,path:s,render:function(t){return e?e?Object(h.jsx)(r,Object(k.a)({},t)):void 0:Object(h.jsx)(p.a,{to:"/login"})}})})),z=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(q,{}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.b,{exact:!0,path:"/",component:g}),Object(h.jsx)(p.b,{path:"/product/:id",component:w}),Object(h.jsx)(p.b,{path:"/products/list",component:N}),Object(h.jsx)(H,{exact:!0,path:"/signup",component:D}),Object(h.jsx)(H,{exact:!0,path:"/login",component:U}),Object(h.jsx)(W,{exact:!0,path:"/profile",component:R}),Object(h.jsx)(W,{path:"/users/cart",component:_})]})]})}}]),n}(r.Component);c.a.render(Object(h.jsx)(i.a,{children:Object(h.jsx)(E,{children:Object(h.jsx)(z,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.5ec873cb.chunk.js.map