(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{38:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(31),a=n.n(s),i=n(5),o=n(2),u=n(4),l=n(8),d=n(7),h=(n(38),n(0)),j=function(e){var t=e.product;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"imgContainer",children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)(i.b,{to:"/product/".concat(t._id),children:Object(h.jsx)("img",{className:"imgProduct",src:t.img})}),Object(h.jsx)("h3",{children:t.description}),Object(h.jsxs)("h3",{children:[t.price," $"]})]})})},b=n(3),p=n(14),g=n.n(p),O=new function e(){var t=this;Object(o.a)(this,e),this.getOne=function(e){return t.apiProducts.get("/".concat(e))},this.getAll=function(){return t.apiProducts.get("/")},this.getList=function(){return t.apiProducts.get("/list")},this.apiProducts=g.a.create({baseURL:"https://ironstore-m3.herokuapp.com/api/products",withCredentials:!0})},m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.loadProducts=function(){O.getAll().then((function(t){var n=t.data.splice(0,2);e.setState({products:n})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var e=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"homeContainer",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsxs)("h2",{children:["Hi! Welcome to Iron Store, here you can buy our merchandise from ironHack"," "]}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),e.map((function(e){return Object(h.jsx)(j,{product:e},e._id)}))]})}}]),n}(r.a.Component),x=n(21),f=n.n(x),v=n(33),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={product:{}},e.bringProduct=Object(v.a)(f.a.mark((function t(){var n,c,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match,t.next=3,O.getOne(n.params.id);case 3:c=t.sent,r=c.data,e.setState({product:r});case 6:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.bringProduct()}},{key:"render",value:function(){var e=this.state.product;return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"imgProductScreen",src:e.img,alt:e.name}),Object(h.jsx)("br",{}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("button",{children:"Go Back"})}),Object(h.jsx)(i.b,{to:"/users/cart",children:Object(h.jsx)("button",{children:"Add to cart"})})]})}}]),n}(r.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.loadProducts=function(){O.getAll().then((function(t){var n=t.data;e.setState({products:n})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var e=this.state.products;return console.log("this.state.products",this.state.products),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"description",children:[Object(h.jsx)("h2",{children:"Hi ! This is the product list "}),Object(h.jsxs)("div",{className:"rowArticle",children:[Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/shipping.png",width:"150"}),Object(h.jsx)("h4",{children:"We deliver wherever you are"})]}),Object(h.jsxs)("article",{children:[Object(h.jsx)("img",{src:"/img/credit-card-icon.png",width:"150"}),Object(h.jsx)("h4",{children:"pay with any credit card"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{children:" Do you need a cup to take your coffee in the morning? "}),Object(h.jsx)("h4",{children:" Or do you just want your cell phone to look amazing? "}),Object(h.jsx)("h4",{children:" find that and much more here! "}),Object(h.jsx)(i.b,{to:"/products/list",children:Object(h.jsx)("button",{children:" All Products "})})]}),Object(h.jsx)("h1",{children:"Most popular products"}),e.map((function(e){return Object(h.jsx)(j,{product:e},e._id)}))]})}}]),n}(r.a.Component),L=n(15),C=n(16),N=new(function(){function e(){Object(o.a)(this,e),this.auth=g.a.create({baseURL:"https://ironstore-m3.herokuapp.com/auth",withCredentials:!0})}return Object(u.a)(e,[{key:"signup",value:function(e,t,n,c,r){return this.auth.post("/signup",{email:e,password:t,firstName:n,lastName:c,shippingAddress:r}).then((function(e){return e.data}))}},{key:"login",value:function(e,t){return this.auth.post("/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/logout").then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/me").then((function(e){return e.data}))}}]),e}()),k=r.a.createContext(),S=k.Consumer,A=k.Provider,P=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1,isLoading:!0,user:null},e.signup=function(t,n,c,r,s){N.signup(t,n,c,r,s).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t,n){N.login(t,n).then((function(t){return e.setState({isLoggedIn:!0,user:t})})).catch((function(t){e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){N.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;N.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,c=e.user,r=this.signup,s=this.login,a=this.logout;return n?Object(h.jsx)("p",{children:"Loading"}):Object(h.jsx)(A,{value:{isLoggedIn:t,isLoading:n,user:c,signup:r,login:s,logout:a},children:this.props.children})}}]),n}(r.a.Component),I=function(e){return function(t){return Object(h.jsx)(S,{children:function(n){var c=n.isLoggedIn,r=n.isLoading,s=n.user,a=n.signup,i=n.login,o=n.logout;return Object(h.jsx)(e,Object(C.a)({isLoggedIn:c,isLoading:r,user:s,signup:a,login:i,logout:o},t))}})}},D=I(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",shippingAddress:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,c=n.email,r=n.password,s=n.firstName,a=n.lastName,i=n.shippingAddress;e.props.signup(c,r,s,a,i)},e.handleChange=function(t){var n=t.target,c=n.name,r=n.value;e.setState(Object(L.a)({},c,r))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,c=e.firstName,r=e.lastName,s=e.shippingAddress;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"signup",children:"Sign Up"}),Object(h.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("label",{children:"E-mail:"}),Object(h.jsx)("input",{type:"text",name:"email",placeholder:"Enter E-mail",value:t,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Enter Password",value:n,onChange:this.handleChange}),Object(h.jsx)("label",{children:"First Name:"}),Object(h.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter name",value:c,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Last Name:"}),Object(h.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter Last Name",value:r,onChange:this.handleChange}),Object(h.jsx)("label",{children:"shipping Address:"}),Object(h.jsx)("input",{type:"text",name:"shippingAddress",placeholder:"Enter Address",value:s,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Signup"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:" Already have account? "}),Object(h.jsx)(i.b,{to:"/login",children:" Login "})]})]})]})}}]),n}(c.Component)),E=I(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,c=n.email,r=n.password;e.props.login(c,r)},e.handleChange=function(t){var n=t.target,c=n.name,r=n.value;e.setState(Object(L.a)({},c,r))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(h.jsx)("label",{children:"email:"}),Object(h.jsx)("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),Object(h.jsx)("label",{children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(h.jsx)("input",{type:"submit",value:"Login"})]})]})}}]),n}(c.Component)),F=I(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Profile Page"}),Object(h.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.firstName]})]})}}]),n}(c.Component)),M=I(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(i.b,{to:"/",id:"home-btn",children:Object(h.jsxs)("h4",{children:[Object(h.jsx)("img",{src:"/img/ironlogo.png",className:"logo"}),"Home"]})}),this.props.isLoggedIn?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["email: ",this.props.user&&this.props.user.email]}),Object(h.jsx)("button",{onClick:this.props.logout,children:"Logout"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(i.b,{to:"/login",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Login"})," "]}),Object(h.jsx)("br",{}),Object(h.jsxs)(i.b,{to:"/signup",children:[Object(h.jsx)("button",{className:"navbar-button",children:"Sign Up"})," "]})]})]})}}]),n}(c.Component));var H=I((function(e){var t=e.isLoggedIn,n=e.isLoading,c=e.component,r=e.exact,s=e.path;return n?"Loading":Object(h.jsx)(b.b,{exact:r,path:s,render:function(e){return t?Object(h.jsx)(b.a,{to:"/profile"}):t?void 0:Object(h.jsx)(c,Object(C.a)({},e))}})}));var U=I((function(e){var t=e.isLoggedIn,n=e.isLoading,c=e.component,r=e.exact,s=e.path;return n?"Loading":Object(h.jsx)(b.b,{exact:r,path:s,render:function(e){return t?t?Object(h.jsx)(c,Object(C.a)({},e)):void 0:Object(h.jsx)(b.a,{to:"/login"})}})})),W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(M,{}),Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{exact:!0,path:"/",component:m}),Object(h.jsx)(b.b,{path:"/product/:id",component:y}),Object(h.jsx)(b.b,{path:"/products/list",component:w}),Object(h.jsx)(H,{exact:!0,path:"/signup",component:D}),Object(h.jsx)(H,{exact:!0,path:"/login",component:E}),Object(h.jsx)(U,{exact:!0,path:"/profile",component:F})]})]})}}]),n}(c.Component);a.a.render(Object(h.jsx)(i.a,{children:Object(h.jsx)(P,{children:Object(h.jsx)(W,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.75e73806.chunk.js.map