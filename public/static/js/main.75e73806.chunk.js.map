{"version":3,"sources":["components/Products/Product.js","services/products-service.js","pages/Home/Home.js","pages/ProductScreen/ProductScreen.js","pages/ListScreen/ListScreen.js","services/auth-service.js","context/auth-context.js","pages/Signup/Signup.js","pages/Login/Login.js","pages/Profile/Profile.js","components/Navbar/Navbar.js","components/AnonRoute/AnonRoute.js","components/PrivateRoute/PrivateRoute.js","App.js","index.js"],"names":["Product","product","className","name","to","_id","src","img","description","price","productService","getOne","id","apiProducts","get","getAll","getList","this","axios","create","baseURL","process","withCredentials","Home","state","products","loadProducts","then","response","data","splice","setState","console","log","width","map","React","Component","ProductScreen","bringProduct","a","match","props","params","alt","List","authService","auth","email","password","firstName","lastName","shippingAddress","post","createContext","Consumer","Provider","AuthProvider","isLoggedIn","isLoading","user","signup","catch","err","login","logout","me","value","children","withAuth","WrappedComponent","handleFormSubmit","event","preventDefault","handleChange","target","onSubmit","type","placeholder","onChange","onClick","routeProps","ComponentToShow","component","exact","path","render","App","ListScreen","Signup","Login","Profile","ReactDOM","document","getElementById"],"mappings":"gOAqBeA,EAlBE,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACI,8BACA,sBAAKC,UAAU,eAAf,UACE,6BAAKD,EAAQE,OACb,cAAC,IAAD,CAAMC,GAAE,mBAAcH,EAAQI,KAA9B,SACA,qBAAKH,UAAU,aAAaI,IAAKL,EAAQM,QAEzC,6BAAKN,EAAQO,cACb,+BAAKP,EAAQQ,MAAb,c,wBC4BKC,EAFQ,IAhCrB,aAAe,IAAD,gCAWdC,OAAS,SAACC,GAGR,OAFW,EAAKC,YAAYC,IAAjB,WAAyBF,KAZxB,KAkBdG,OAAS,WAGL,OAFW,EAAKF,YAAYC,IAAI,MAnBtB,KAwBdE,QAAU,WAGR,OAFW,EAAKH,YAAYC,IAAI,UAtBhCG,KAAKJ,YAAcK,IAAMC,OAAO,CAC9BC,QAAUC,kDACVC,iBAAiB,KCyDRC,E,4MA3DbC,MAAQ,CACNC,SAAU,I,EAOZC,aAAe,WACbhB,EAAeK,SAASY,MAAK,SAACC,GAC5B,IAAMH,EAAWG,EAASC,KAAKC,OAAO,EAAG,GAEzC,EAAKC,SAAS,CAAEN,SAAUA,Q,uDAR9B,WACER,KAAKS,iB,oBAaP,WAAU,IACAD,EAAaR,KAAKO,MAAlBC,SAER,OADAO,QAAQC,IAAI,sBAAuBhB,KAAKO,MAAMC,UAE5C,sBAAKvB,UAAU,gBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,2GAEW,OAEX,sBAAKA,UAAU,aAAf,UACE,oCACE,qBAAKI,IAAI,oBAAoB4B,MAAM,QACnC,gEAGF,oCACE,qBAAK5B,IAAI,4BAA4B4B,MAAM,QAC3C,gEAIJ,uBACA,yFACA,wFACA,iEAEA,cAAC,IAAD,CAAM9B,GAAE,iBAAR,SACE,yDAIJ,uDACCqB,EAASU,KAAI,SAAClC,GAAD,OACZ,cAAC,EAAD,CAA2BA,QAASA,GAAtBA,EAAQI,e,GArDb+B,IAAMC,W,yBCiCVC,E,4MApCXd,MAAQ,CACJvB,QAAS,I,EAIZsC,a,sBAAe,gCAAAC,EAAA,6DACHC,EAAU,EAAKC,MAAfD,MADG,SAEW/B,EAAeC,OAAO8B,EAAME,OAAO/B,IAF9C,gBAEJiB,EAFI,EAEJA,KAGR,EAAKE,SAAS,CAAE9B,QAAS4B,IALb,2C,uDAOd,WACEZ,KAAKsB,iB,oBAGP,WAAU,IACAtC,EAAYgB,KAAKO,MAAjBvB,QACR,OACI,gCAEA,qBAAKC,UAAU,mBAAmBI,IAAKL,EAAQM,IAAKqC,IAAK3C,EAAQE,OAChE,uBACG,cAAC,IAAD,CAAMC,GAAI,IAAV,SACI,+CAGJ,cAAC,IAAD,CAAMA,GAAI,cAAV,SACA,0D,GA7BYgC,IAAMC,WC6DnBQ,E,4MAxDbrB,MAAQ,CACNC,SAAU,I,EAOZC,aAAe,WACbhB,EAAeK,SAASY,MAAK,SAACC,GAC5B,IAAMH,EAAWG,EAASC,KAE1B,EAAKE,SAAS,CAAEN,SAAUA,Q,uDAR9B,WACER,KAAKS,iB,oBAaP,WAAU,IACAD,EAAaR,KAAKO,MAAlBC,SAER,OADAO,QAAQC,IAAI,sBAAuBhB,KAAKO,MAAMC,UAE5C,sBAAKvB,UAAU,GAAf,UACE,sBAAKA,UAAU,cAAf,UACE,gEACA,sBAAKA,UAAU,aAAf,UACE,oCACE,qBAAKI,IAAI,oBAAoB4B,MAAM,QACnC,gEAGF,oCACE,qBAAK5B,IAAI,4BAA4B4B,MAAM,QAC3C,gEAIJ,uBACA,yFACA,wFACA,iEAEA,cAAC,IAAD,CAAM9B,GAAE,iBAAR,SACE,yDAIJ,uDACCqB,EAASU,KAAI,SAAClC,GAAD,OACZ,cAAC,EAAD,CAA2BA,QAASA,GAAtBA,EAAQI,e,GAlDb+B,IAAMC,W,gBCwCVS,EAFK,I,WA3ClB,aAAe,oBACb7B,KAAK8B,KAAO7B,IAAMC,OAAO,CACvBC,QAASC,0CACTC,iBAAiB,I,0CAIrB,SAAO0B,EAAOC,EAAUC,EAAWC,EAAUC,GAY3C,OAXWnC,KAAK8B,KACbM,KAAK,UAAW,CACfL,QACAC,WACAC,YACAC,WACAC,oBAEDzB,MAAK,SAACC,GAAD,OAAcA,EAASC,U,mBAMjC,SAAMmB,EAAOC,GAKX,OAJWhC,KAAK8B,KACbM,KAAK,SAAU,CAAEL,QAAOC,aACxBtB,MAAK,SAACC,GAAD,OAAcA,EAASC,U,oBAKjC,WAGE,OAFWZ,KAAK8B,KAAKjC,IAAI,WAAWa,MAAK,SAACC,GAAD,OAAcA,EAASC,U,gBAKlE,WAGE,OAFWZ,KAAK8B,KAAKjC,IAAI,OAAOa,MAAK,SAACC,GAAD,OAAcA,EAASC,Y,QCrCjCO,IAAMkB,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZC,E,4MACJjC,MAAQ,CACNkC,YAAY,EACZC,WAAW,EACXC,KAAM,M,EASRC,OAAS,SAACb,EAAOC,EAAUC,EAAWC,EAAUC,GAC9CN,EAAYe,OAAQb,EAAOC,EAAUC,EAAWC,EAAUC,GACvDzB,MAAK,SAACiC,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,YACjDE,OAAM,SAACC,GACN,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,W,EAI/CI,MAAQ,SAAChB,EAAOC,GACdH,EAAYkB,MAAOhB,EAAOC,GACvBtB,MAAK,SAACiC,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,YACjDE,OAAM,SAACC,GACN,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,W,EAI/CK,OAAS,WACPnB,EAAYmB,SACTtC,MAAK,kBAAM,EAAKI,SAAS,CAAE2B,YAAY,EAAOE,KAAM,UACpDE,OAAM,SAACC,GAAD,OAAS/B,QAAQC,IAAI8B,O,uDAzBhC,WAAsB,IAAD,OACnBjB,EAAYoB,KACVvC,MAAK,SAACiC,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,KAAMA,EAAMD,WAAW,OACxEG,OAAM,SAACC,GAAD,OAAS,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,KAAMD,WAAW,S,oBA0B7E,WAAU,IAAD,EACiC1C,KAAKO,MAArCkC,EADD,EACCA,WAAYC,EADb,EACaA,UAAWC,EADxB,EACwBA,KACvBC,EAA0B5C,KAA1B4C,OAAQG,EAAkB/C,KAAlB+C,MAAOC,EAAWhD,KAAXgD,OAEvB,OAAIN,EAAkB,wCAGpB,cAACH,EAAD,CAAUW,MAAO,CAAET,aAAYC,YAAWC,OAAMC,SAAQG,QAAOC,UAA/D,SACGhD,KAAKyB,MAAM0B,e,GA5COhC,IAAMC,WAqD3BgC,EAAW,SAACC,GAEhB,OAAO,SAAU5B,GACb,OACE,cAACa,EAAD,UACI,SAACY,GAAW,IACJT,EAAuDS,EAAvDT,WAAYC,EAA2CQ,EAA3CR,UAAWC,EAAgCO,EAAhCP,KAAMC,EAA0BM,EAA1BN,OAAQG,EAAkBG,EAAlBH,MAAOC,EAAWE,EAAXF,OAEpD,OACE,cAACK,EAAD,aACEZ,WAAYA,EACZC,UAAWA,EACXC,KAAMA,EACNC,OAAQA,EACRG,MAAOA,EACPC,OAAQA,GACJvB,SCgBL2B,I,4MAvFb7C,MAAQ,CACNwB,MAAO,GACPC,SAAU,GACVC,UAAW,GACXC,SAAU,GACVC,gBAAiB,I,EAEnBmB,iBAAmB,SAACC,GAClBA,EAAMC,iBADsB,MAQxB,EAAKjD,MALPwB,EAH0B,EAG1BA,MACAC,EAJ0B,EAI1BA,SACAC,EAL0B,EAK1BA,UACAC,EAN0B,EAM1BA,SACAC,EAP0B,EAO1BA,gBAEF,EAAKV,MAAMmB,OAAOb,EAAOC,EAAUC,EAAWC,EAAUC,I,EAE1DsB,aAAe,SAACF,GAAW,IAAD,EACAA,EAAMG,OAAtBxE,EADgB,EAChBA,KAAMgE,EADU,EACVA,MACd,EAAKpC,SAAL,eAAiB5B,EAAOgE,K,4CAE1B,WAAU,IAAD,EAOHlD,KAAKO,MALPwB,EAFK,EAELA,MACAC,EAHK,EAGLA,SACAC,EAJK,EAILA,UACAC,EALK,EAKLA,SACAC,EANK,EAMLA,gBAEF,OACE,gCACE,oBAAIlD,UAAU,SAAd,qBACA,uBAAMA,UAAU,OAAO0E,SAAU3D,KAAKsD,iBAAtC,UACE,sBAAKrE,UAAU,GAAf,UACE,4CACA,uBACE2E,KAAK,OACL1E,KAAK,QACL2E,YAAY,eACZX,MAAOnB,EACP+B,SAAU9D,KAAKyD,eAEjB,8CACA,uBACEG,KAAK,WACL1E,KAAK,WACL2E,YAAY,iBACZX,MAAOlB,EACP8B,SAAU9D,KAAKyD,eAEjB,gDACA,uBACEG,KAAK,OACL1E,KAAK,YACL2E,YAAY,aACZX,MAAOjB,EACP6B,SAAU9D,KAAKyD,eAEjB,+CACA,uBACEG,KAAK,OACL1E,KAAK,WACL2E,YAAY,kBACZX,MAAOhB,EACP4B,SAAU9D,KAAKyD,eAEjB,sDACA,uBACEG,KAAK,OACL1E,KAAK,kBACL2E,YAAY,gBACZX,MAAOf,EACP2B,SAAU9D,KAAKyD,eAEjB,uBAAOG,KAAK,SAASV,MAAM,cAE7B,gCACE,uBACA,wDACA,cAAC,IAAD,CAAM/D,GAAI,SAAV,kC,GAjFSiC,cCsCNgC,I,4MArCb7C,MAAQ,CAAEwB,MAAO,GAAIC,SAAU,I,EAE/BsB,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEE,EAAKjD,MAAzBwB,EAFkB,EAElBA,MAAOC,EAFW,EAEXA,SAEf,EAAKP,MAAMsB,MAAMhB,EAAOC,I,EAG1ByB,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBxE,EADc,EACdA,KAAMgE,EADQ,EACRA,MACd,EAAKpC,SAAL,eAAiB5B,EAAOgE,K,4CAG1B,WAAU,IAAD,EACqBlD,KAAKO,MAAzBwB,EADD,EACCA,MAAOC,EADR,EACQA,SAEf,OACE,gCACE,uCAEA,uBAAM2B,SAAU3D,KAAKsD,iBAArB,UAEE,2CACA,uBAAOM,KAAK,OAAO1E,KAAK,QAAQgE,MAAOnB,EAAO+B,SAAU9D,KAAKyD,eAE7D,8CACA,uBAAOG,KAAK,WAAW1E,KAAK,WAAWgE,MAAOlB,EAAU8B,SAAU9D,KAAKyD,eAEvE,uBAAOG,KAAK,SAASV,MAAM,oB,GA9BjB9B,cCgBLgC,I,4JAfb,WACE,OACE,gCACE,8CACA,0CAAapD,KAAKyB,MAAMkB,MAAQ3C,KAAKyB,MAAMkB,KAAKV,oB,GALlCb,cC+BPgC,I,4JA7Bb,WAEE,OACE,sBAAKnE,UAAU,SAAf,UACE,cAAC,IAAD,CAAME,GAAI,IAAKQ,GAAG,WAAlB,SAEE,+BAAI,qBAAKN,IAAI,oBAAoBJ,UAAU,SAA3C,YAEDe,KAAKyB,MAAMgB,WACV,qCACE,wCAAWzC,KAAKyB,MAAMkB,MAAQ3C,KAAKyB,MAAMkB,KAAKZ,SAC9C,wBAAQgC,QAAS/D,KAAKyB,MAAMuB,OAA5B,uBAGF,qCACE,eAAC,IAAD,CAAM7D,GAAG,SAAT,UACE,wBAAQF,UAAU,gBAAlB,mBAAiD,OAEnD,uBACA,eAAC,IAAD,CAAME,GAAG,UAAT,UACE,wBAAQF,UAAU,gBAAlB,qBAAmD,iB,GArB5CmC,cC4BNgC,SA1Bf,SAAoBY,GAAY,IAEtBvB,EAA0BuB,EAA1BvB,WAAYC,EAAcsB,EAAdtB,UAGduB,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAI1B,EAAkB,UAGpB,cAAC,IAAD,CACEyB,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS5C,GACP,OAAIgB,EAAmB,cAAC,IAAD,CAAUtD,GAAG,aACzBsD,OAAN,EAAyB,cAACwB,EAAD,eAAqBxC,UCQ9C2B,SA1Bf,SAAuBY,GAAY,IAEzBvB,EAA0BuB,EAA1BvB,WAAYC,EAAcsB,EAAdtB,UAGduB,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAI1B,EAAkB,UAGpB,cAAC,IAAD,CACEyB,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS5C,GACP,OAAMgB,EACGA,EAAmB,cAACwB,EAAD,eAAqBxC,SAA5C,EADoB,cAAC,IAAD,CAAUtC,GAAG,iBCejCmF,E,4JAlBb,WACE,OACE,sBAAKrF,UAAU,YAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkF,OAAK,EAACC,KAAK,IAAIF,UAAW5D,IACjC,cAAC,IAAD,CAAO8D,KAAK,eAAeF,UAAW7C,IACtC,cAAC,IAAD,CAAO+C,KAAK,iBAAiBF,UAAWK,IACxC,cAAC,EAAD,CAAWJ,OAAK,EAACC,KAAK,UAAUF,UAAWM,IAC3C,cAAC,EAAD,CAAWL,OAAK,EAACC,KAAK,SAASF,UAAWO,IAE1C,cAAC,EAAD,CAAcN,OAAK,EAACC,KAAK,WAAWF,UAAWQ,c,GAZvCtD,aCZlBuD,IAASN,OACP,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.75e73806.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nconst Product =  ({ product }) => {\n    return(\n        <div>\n        <div className=\"imgContainer\" >\n          <h3>{product.name}</h3>\n          <Link to={`/product/${product._id}`}>\n          <img className=\"imgProduct\" src={product.img} />\n          </Link>\n          <h3>{product.description}</h3>\n          <h3>{product.price} $</h3>\n          {/* <h3>{product.reviews}</h3> */}\n       \n        </div>\n\n        </div>\n    )\n}\n\nexport default Product;\n\n\n// import React from 'react';\n// import { Route, Redirect } from 'react-router-dom';\n\n\n// export default function Products(props) {\n//   const { product } = props;\n//   return (\n//     <div key={product._id} className=\"card\">\n//       <a href={`/product/${product._id}`}>\n//         <img className=\"medium\" src={product.img} alt={product.name} />\n//       </a>\n//       <div className=\"card-body\">\n//         <a href={`/product/${product._id}`}>\n//           <h2>{product.name}</h2>\n//         </a>\n//         {/* <Rating\n//           rating={product.rating}\n//           numReviews={product.numReviews}\n//         ></Rating> */}\n//         <div className=\"price\">${product.price}</div>\n//       </div>\n//     </div>\n//   );\n// };","import axios from \"axios\";\n\n// THIS IS AN EXAMPLE THAT YOU CAN USE\n// TO CREATE A SERVICE FOR YOUR AXIOS CALLS\n\nclass ProductService {\n  constructor() {\n    // this.api  is a reusable axios request base containing the base url (baseURL)\n    // of the API and the Headers options ( `withCredentials: true` )\n    this.apiProducts = axios.create({\n      baseURL:  process.env.REACT_APP_API_URL + \"/api/products\",\n      withCredentials: true,\n    });\n  }\n\n\n\n  getOne = (id) => {\n    const pr = this.apiProducts.get(`/${id}`);  // http://localhost:5000/api/products  + /id\n\n    return pr;\n  };\n\n\n  getAll = () => {\n      const pr = this.apiProducts.get(\"/\"); // http://localhost:5000/api/products \n\n      return pr\n  };\n\n  getList = () => {\n    const pr = this.apiProducts.get(\"/list\"); // http://localhost:5000/api/products + /list\n\n    return pr\n};\n}\n\n// Create instance (object) containing all axios calls as methods\nconst productService = new ProductService();\n\nexport default productService;\n","import React from \"react\";\nimport Product from \"./../../components/Products/Product\";\nimport axios from \"axios\"; // http library\nimport productService from \"./../../services/products-service\";\nimport { Link } from \"react-router-dom\";\n\n// products on component level state, not on global state yet, maybe do it with redux ?\n\nclass Home extends React.Component {\n  state = {\n    products: [],\n  };\n\n  componentDidMount() {\n    this.loadProducts();\n  }\n\n  loadProducts = () => {\n    productService.getAll().then((response) => {\n      const products = response.data.splice(0, 2);\n      // console.log(\"PRODUCT!\", products );\n      this.setState({ products: products });\n    });\n  };\n\n  // make a request to our backend using useEffect\n\n  render() {\n    const { products } = this.state;\n    console.log(\"this.state.products\", this.state.products); //{} --> _proto_: Object\n    return (\n      <div className=\"homeContainer\">\n        <div className=\"description\">\n          <h2>\n            Hi! Welcome to Iron Store, here you can buy our merchandise from\n            ironHack{\" \"}\n          </h2>\n          <div className=\"rowArticle\">\n            <article>\n              <img src=\"/img/shipping.png\" width=\"150\"></img>\n              <h4>We deliver wherever you are</h4>\n            </article>\n            {/* <br/> */}\n            <article>\n              <img src=\"/img/credit-card-icon.png\" width=\"150\"></img>\n              <h4>pay with any credit card</h4>\n            </article>\n          </div>\n\n          <br />\n          <h4> Do you need a cup to take your coffee in the morning? </h4>\n          <h4> Or do you just want your cell phone to look amazing? </h4>\n          <h4> find that and much more here! </h4>\n          {/* we dont have yet the list products */}\n          <Link to={`/products/list`}>\n            <button> All Products </button>\n          </Link>\n        </div>\n\n        <h1>Most popular products</h1>\n        {products.map((product) => (\n          <Product key={product._id} product={product} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react'\nimport { Link } from \"react-router-dom\";\nimport productService from './../../services/products-service';\n\nclass ProductScreen extends React.Component  {\n    state = {\n        product: {}\n    }\n\n\n     bringProduct = async () => {\n         const { match } = this.props;\n        const { data } = await productService.getOne(match.params.id);\n\n\n        this.setState({ product: data});\n    }\n      componentDidMount(){\n        this.bringProduct();\n      }\n\n      render() {\n        const { product } = this.state;\n        return (\n            <div>\n    \n            <img className=\"imgProductScreen\" src={product.img} alt={product.name} />\n             <br></br>\n                <Link to =\"/\">\n                    <button>Go Back</button>\n                </Link>\n    \n                <Link to =\"/users/cart\">\n                <button>Add to cart</button>\n                </Link>\n    \n            </div>\n        )\n    }\n}\n\nexport default ProductScreen;","import React from \"react\";\nimport Product from \"./../../components/Products/Product\";\nimport axios from \"axios\"; // http library\nimport productService from \"./../../services/products-service\";\nimport { Link } from \"react-router-dom\";\n\n// products on component level state, not on global state yet, maybe do it with redux ?\n\nclass List extends React.Component {\n  state = {\n    products: [],\n  };\n\n  componentDidMount() {\n    this.loadProducts();\n  }\n\n  loadProducts = () => {\n    productService.getAll().then((response) => {\n      const products = response.data;\n      // console.log(\"PRODUCT!\", products );\n      this.setState({ products: products });\n    });\n  };\n\n  // make a request to our backend using useEffect\n\n  render() {\n    const { products } = this.state;\n    console.log(\"this.state.products\", this.state.products); //{} --> _proto_: Object\n    return (\n      <div className=\"\">\n        <div className=\"description\">\n          <h2>Hi ! This is the product list </h2>\n          <div className=\"rowArticle\">\n            <article>\n              <img src=\"/img/shipping.png\" width=\"150\"></img>\n              <h4>We deliver wherever you are</h4>\n            </article>\n            {/* <br/> */}\n            <article>\n              <img src=\"/img/credit-card-icon.png\" width=\"150\"></img>\n              <h4>pay with any credit card</h4>\n            </article>\n          </div>\n\n          <br />\n          <h4> Do you need a cup to take your coffee in the morning? </h4>\n          <h4> Or do you just want your cell phone to look amazing? </h4>\n          <h4> find that and much more here! </h4>\n          {/* we dont have yet the list products */}\n          <Link to={`/products/list`}>\n            <button> All Products </button>\n          </Link>\n        </div>\n\n        <h1>Most popular products</h1>\n        {products.map((product) => (\n          <Product key={product._id} product={product} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default List;\n","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + \"/auth\",\n      withCredentials: true,\n    });\n  }\n\n  signup(email, password, firstName, lastName, shippingAddress) {\n    const pr = this.auth\n      .post(\"/signup\", {\n        email,\n        password,\n        firstName,\n        lastName,\n        shippingAddress,\n      })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(email, password) {\n    const pr = this.auth\n      .post(\"/login\", { email, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/me\").then((response) => response.data);\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (email, password, firstName, lastName, shippingAddress) => {\n    authService.signup( email, password, firstName, lastName, shippingAddress )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (email, password) => {\n    authService.login( email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nclass Signup extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    shippingAddress: \"\",\n  };\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const {\n      email,\n      password,\n      firstName,\n      lastName,\n      shippingAddress,\n    } = this.state;\n    this.props.signup(email, password, firstName, lastName, shippingAddress);\n  };\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  render() {\n    const {\n      email,\n      password,\n      firstName,\n      lastName,\n      shippingAddress,\n    } = this.state;\n    return (\n      <div>\n        <h1 className=\"signup\">Sign Up</h1>\n        <form className=\"form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"\">\n            <label>E-mail:</label>\n            <input\n              type=\"text\"\n              name=\"email\"\n              placeholder=\"Enter E-mail\"\n              value={email}\n              onChange={this.handleChange}\n            />\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Enter Password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n            <label>First Name:</label>\n            <input\n              type=\"text\"\n              name=\"firstName\"\n              placeholder=\"Enter name\"\n              value={firstName}\n              onChange={this.handleChange}\n            />\n            <label>Last Name:</label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              placeholder=\"Enter Last Name\"\n              value={lastName}\n              onChange={this.handleChange}\n            />\n            <label>shipping Address:</label>\n            <input\n              type=\"text\"\n              name=\"shippingAddress\"\n              placeholder=\"Enter Address\"\n              value={shippingAddress}\n              onChange={this.handleChange}\n            />\n            <input type=\"submit\" value=\"Signup\" />\n          </div>\n          <div>\n            <br></br>\n            <p> Already have account? </p>\n            <Link to={\"/login\"}> Login </Link>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\nexport default withAuth(Signup);\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from './../../context/auth-context';\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call function coming from AuthProvider ( via withAuth )\n    this.props.login(email, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label>email:</label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Login\" />\n          \n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { withAuth } from '../../context/auth-context';\n\nclass Profile extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Profile Page</h1>\n        <h2>Welcome {this.props.user && this.props.user.firstName}</h2>\n        {/* \n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \n        */}\n\n      </div>\n    );\n  }\n}\n\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\n\nclass Navbar extends Component {\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar\">\n        <Link to={\"/\"} id=\"home-btn\">\n          {/* insert logo */}\n          <h4><img src=\"/img/ironlogo.png\" className=\"logo\" />Home</h4>\n        </Link>\n        {this.props.isLoggedIn ? (\n          <>\n            <p>email: {this.props.user && this.props.user.email}</p>\n            <button onClick={this.props.logout}>Logout</button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>{\" \"}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">Sign Up</button>{\" \"}\n            </Link>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/profile\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Product from \"././components/Products/Product\";\n\nimport { Switch, Route } from \"react-router-dom\";\n\n// Pages\nimport Home from \"./pages/Home/Home\";\nimport ProductScreen from \"./pages/ProductScreen/ProductScreen\";\nimport ListScreen from \"./pages/ListScreen/ListScreen\";\nimport Signup from \"./pages/Signup/Signup\";\nimport Login from \"./pages/Login/Login\";\nimport Profile from \"./pages/Profile/Profile\";\n\n// Components\nimport Navbar from \"./components/Navbar/Navbar\";\nimport AnonRoute from \"./components/AnonRoute/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/product/:id\" component={ProductScreen} />\n          <Route path=\"/products/list\" component={ListScreen} />\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}